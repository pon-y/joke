(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,n){e.exports={Joke:"Joke_Joke__cnodd",Author:"Joke_Author__x3V4C",JokeContent:"Joke_JokeContent__14LKL",invalidJoke:"Joke_invalidJoke__1z4p9",loadingMessage:"Joke_loadingMessage__27sW_"}},function(e,t,n){e.exports={formContainer:"InputForm_formContainer__WP0Lf",text:"InputForm_text__2tjIJ",button:"InputForm_button__3EmaR"}},,,,,,,function(e,t,n){e.exports={JokeContainer:"JokeContainer_JokeContainer__UZ1bV"}},,,,function(e,t,n){e.exports=n(21)},,,,,,function(e,t,n){},function(e,t,n){e.exports={App:"App_App__16ZpL"}},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(5),r=n.n(i),u=(n(19),n(20),n(11)),s=n(6),l=n(7),c=n(10),m=n(8),d=n(12),k=n(3),h=n.n(k),p=n(9),v=n.n(p),J=n(1),f=n.n(J);var g=function(e){var t=o.a.createElement("div",{className:f.a.loadingMessage},"Loading random Joke..."),n={visibility:"visible"};return n=!0===e.isInvalid?{visibility:"visible"}:{visibility:"hidden"},""!==e.joke&&(t=o.a.createElement("div",{className:f.a.Joke},o.a.createElement("div",{className:f.a.invalidJoke,style:n}," Well... We couldn't find that joke. Have a random joke instead! "),o.a.createElement("div",{className:f.a.JokeContent,dangerouslySetInnerHTML:{__html:e.joke}}),o.a.createElement("div",{className:f.a.Author}," - ",e.author))),o.a.createElement("div",null,t)},b=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="https://jokes-api.herokuapp.com/api/joke";return"number"===typeof t&&(a="https://jokes-api.herokuapp.com/api/joke/".concat(t)),fetch(a).then(function(e){return 200===e.status?e.json():Promise.reject(e.status)}).then(function(e){return{data:e.value,isInvalid:n}}).catch(function(n){return Number(n)>=500?e(t):404===Number(n)?e("",!0):429===Number(n)?new Promise(function(n,a){setTimeout(function(){n(e(t))},5200)}):void 0})},_=n(2),j=n.n(_);var I=function(e){var t=e.callRandomJoke,n=e.userInput,a=e.handleInputChange,i=e.handleInputSubmit,r=!1;return r=!(!e.loading&&!isNaN(Number(n))),o.a.createElement("form",{className:j.a.formContainer},o.a.createElement("label",null,o.a.createElement("i",{className:j.a.text},"Looking for a specific joke? Enter the id here:"),o.a.createElement("input",{type:"text",name:"userInput",value:n,onChange:a})),o.a.createElement("button",{className:j.a.button,onClick:i,disabled:r}," Go! "),o.a.createElement("button",{className:j.a.button,disabled:r,onClick:t}," Random Joke "))},N=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={currentJoke:null,jokeId:null,oldJokes:{},userInput:"",invalidRequest:!1,jokeTimer:null},n.getNewJoke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.setState({currentJoke:null});var t=Object(u.a)({},n.state.oldJokes);if(t.hasOwnProperty(e)){var a=setTimeout(function(){return n.getNewJoke()},2e4);n.setState({currentJoke:t[e],jokeId:e,jokeTimer:a})}else b(e).then(function(e){var a=e.data,o=e.isInvalid;t[a.id]=a;var i=setTimeout(function(){return n.getNewJoke()},2e4);n.setState({currentJoke:a,jokeId:a.id,oldJokes:t,invalidRequest:o,jokeTimer:i})}).catch(function(e){return console.log(e),console.log("error in get new joke"),setTimeout(function(){return n.getNewJoke()},5e3)})},n.handleInputChange=function(e){n.setState({userInput:e.target.value})},n.handleInputSubmit=function(e){clearTimeout(n.state.jokeTimer),n.getNewJoke(Number(n.state.userInput)),e.preventDefault()},n.callRandomJoke=function(){clearTimeout(n.state.jokeTimer),n.getNewJoke()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getNewJoke()}},{key:"render",value:function(){var e="",t="";return this.state.currentJoke&&(e=h.a.sanitize(this.state.currentJoke.joke),t=h.a.sanitize(this.state.currentJoke.author)),o.a.createElement("div",{className:v.a.JokeContainer},o.a.createElement(g,{joke:e,author:t,isInvalid:this.state.invalidRequest}),o.a.createElement(I,{callRandomJoke:this.callRandomJoke,loading:!this.state.currentJoke,userInput:this.state.userInput,handleInputChange:this.handleInputChange,handleInputSubmit:this.handleInputSubmit}))}}]),t}(a.Component);var w=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[13,1,2]]]);
//# sourceMappingURL=main.51c9943f.chunk.js.map